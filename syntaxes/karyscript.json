{
    "fileTypes": [
        "k"
    ],
    "name": "KaryScript",
    "patterns": [{
        "include": "#expression"
    }],
    "repository": {
        "comment": {
			"match": "//.*$\\n?",
            "name": "comment.line.double-slash.karyscript"
        },
        "controls-structures": {
            "begin": "\\b(if|unless|for|while|try)\\b",
			"beginCaptures": {
				"1": {
                    "name": "keyword.control.karyscript"
                }
			},
            "patterns": [ {
               "include": "#expression"
            }],
            "end": "\\b(end)\\b",
            "endCaptures": {
                "1": {
					"name": "keyword.control.karyscript"
				}
            }
        },
        "function-declaration": {
            "name": "meta.function.karyscript",
            "begin": "\\b(?:(out)(?:\\s)+)?(def|async)(?:\\s)+([a-zA-Z_\\-$][\\w$]*)((?:(?:\\s)+[a-zA-Z_\\-$][\\w$]*)*)(?:\\s)*\\:",
			"beginCaptures": {
				"1": {
                    "name": "storage.type.karyscript"
                },
                "2": {
					"name": "storage.modifier.karyscript"
				},
                "3": {
                    "name": "entity.name.function.karyscript"
                },
                "4": {
                    "name": "variable.parameter.karyscript"
                }
			},
            "patterns": [ {
               "include": "#expression"
            }],
            "end": "\\b(end)\\b",
            "endCaptures": {
                "1": {
					"name": "storage.modifier.karyscript"
				}
            }
        },
        "address": {
            
        },
        "expression": {
            "name": "expression.karyscript",
            "patterns": [
                {
                    "include": "#controls-structures"
                },
                {
                    "include": "#function-declaration"
                },
                {
                    "include": "#comment"
                }
            ]
        }
    },
    "scopeName": "source.karyscript"
}
